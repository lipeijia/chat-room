<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>hello</title>
    <script>
        var socket = null;
        
     
      

       
        function socket_onopen (){
            console.log('WebSocket connection is open for business, bienvenidos!');
        }
        function socket_onmessage (message){
            let object = JSON.parse(message.data);
            console.log(object);
            if(object.kind == 0){
                // console.log(JSON.parse(object.data));
            }
            else if(object.kind == 1){

            }
            else if(object.kind == 2){
                console.log(JSON.parse(object.data));

            }
          
            // document.getElementById("id").innerHTML = message.data;
        }
        function socket_onclose (){
            console.log('WebSocket connection closed, hasta la pr√≥xima!');
        }
      
        function click1(){
            let name = document.getElementById('input').value;
            socket = new WebSocket('ws://localhost:8080' + '/ws?name='+name);
            socket.onopen = socket_onopen;
            socket.onmessage = socket_onmessage;
            socket.onclose = socket.onclose;
        //     var k = {
        //         kind:0
        //     };
        //    socket.send(JSON.stringify(k));
        }
    </script>
</head>
<body>
<button onclick="click1()">login</button>
<input id="input" type="text">
</body>
</html>